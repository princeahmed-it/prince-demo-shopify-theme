{% paginate blog.articles by section.settings.blog_post_limit %}
  <h2 class="text-center text-2xl font-semibold">{{ blog.title }}</h2>
  <div id="blogs-container" class="grid grid-cols-3 justify-center items-stretch py-5 px-3 m-5">
    {% for article in blog.articles %}
      <div class="m-5 shadow-xl">
        {% if article.image %}
          <img src="{{ article.image | img_url: 'medium' }}" alt="{{ article.image.alt }}" height="auto" width="auto">
        {% else %}
          {% assign placeholder_image = 'lifestyle-1' %}
          {{ placeholder_image | placeholder_svg_tag: 'size-60 object-cover object-center' }}
        {% endif %}

        <div class="p-3 justify-self-stretch flex-col">
          <h3 class="text-lg font-bold">
            <a href="{{ article.url }}">{{ article.title }} </a>
          </h3>

          {% if section.settings.display_description %}
            <p>{{ article.content | strip_html | truncatewords: 20 }}</p>
          {% endif %}

          <button class="bg-gray-900 hover:bg-gray-700 text-white font-semibold px-5 py-2 rounded-md mt-4">
            <a href="{{ article.url }}">Read More</a>
          </button>
        </div>
      </div>
    {% endfor %}
  </div>
  <div class="px-10 mb-20">
    {% render 'pagination', pagination: paginate %}
  </div>
{% endpaginate %}

{% schema %}
{
  "name": "blog",
  "settings": [
    {
      "type": "range",
      "id": "blog_post_limit",
      "default": 3,
      "min": 1,
      "max": 6,
      "step": 1,
      "label": "Blog post per page"
    },
    {
      "type": "checkbox",
      "label": "Display description",
      "default": true,
      "id": "display_description"
    }
  ]
}
{% endschema %}
